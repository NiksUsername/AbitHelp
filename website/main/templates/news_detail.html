{% extends "master.html" %}
{% block title %}Новини{% endblock %}
{% block style %}
<style>
.news-detail-container {
    margin-top: 20px;
    display: flex;
    flex-direction: row;
    flex-wrap: wrap;
    gap: 30px;
    align-items: flex-start;
    justify-content: center;
}

.news-detail-card {
    overflow-y: auto;
    background-color: rgb(31, 31, 44);
    border: 1px solid #444;
    border-radius: 0.5rem;
    padding: 30px;
    color: #ffffff;
    flex: 1 1 400px;
    min-width: 300px;
    width: 400px;
    max-width: 800px;
}

.news-detail-card h5 {
    margin-bottom: 15px;
    font-size: 1.5rem;
}

.news-detail-card p {
    margin-bottom: 15px;
    font-size: 1.1rem;
    line-height: 1.6;
}

.carousel {
    width: 100%;
    max-width: 500px;
    height: 300px;
    flex: 1 1 300px;
    overflow: hidden;
    border-radius: 0.5rem;
}

.carousel-inner {
    width: 100%;
    height: 100%;
}

.carousel-item {
    width: 100%;
    height: 100%;
}

.carousel img {
    width: 100%;
    height: 100%;
    object-fit: contain;
    border-radius: 0.5rem;
}

.carousel img[src*="via.placeholder.com"] {
    background-color: #555;
}

.carousel-control-prev,
.carousel-control-next {
    width: 5%;
}

.carousel-control-prev-icon,
.carousel-control-next-icon {
    background-color: rgba(0, 0, 0, 0.5);
    border-radius: 50%;
}

.news-actions {
    margin-top: 20px;
    padding-top: 15px;
    border-top: 1px solid #444;
}

#like-button {
    color: #adb5bd;
    transition: all 0.3s ease;
    font-size: 1.2rem;
}

#like-button.liked {
    color: #dc3545;
}

.site-link {
    display: inline-flex;
    align-items: center;
    color: #adb5bd;
    text-decoration: none;
}

.site-link i {
    margin-right: 5px;
}

.site-link:hover {
    color: #ffffff;
    text-decoration: underline;
}

</style>
{% endblock %}
{% block content %}
     <div class="news-detail-container">
        
        <div class="news-detail-card">
            <h5 id="news-title">{{ news.title }}</h5>
            <p id="news-description">{{ news.content }}</p>
            <small id="news-date">{{ news.created_at }}</small>
            
            <div class="news-actions d-flex justify-content-between align-items-center">
                <form action="{% url 'handle_like' news.id %}">
                    {% csrf_token %}
                    <button type="submit" style="background: none; border: none; padding: 0;">
                        {% if is_liked %}
                            <i style="color: #CA2424" class="bi bi-heart-fill"></i>
                        {% else %}
                            <i style="color: white" class="bi bi-heart-fill"></i>
                        {% endif %}
                    </button>
                </form>
                
                
                <a href="{{ news.post_link }}" id="news-source-link" class="site-link" target="_blank">
                    <i class="bi bi-box-arrow-up-right"></i> Джерело
                </a>
            </div>
        </div>
        
        
        <div id="newsCarousel" class="carousel slide" data-bs-ride="carousel">
            <div class="carousel-inner" id="carousel-inner">
                <div class="carousel-item active">
                    {% with images=news.images.all %}
                        {% if images %}
                            {% for image in images %}
                                <img src="{{ image.image.url }}">
                            {% endfor %}
                        {% endif %}
                    {% endwith %}
                </div>
            </div>
            <button class="carousel-control-prev" type="button" data-bs-target="#newsCarousel" data-bs-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Попередній</span>
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#newsCarousel" data-bs-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Наступний</span>
            </button>
        </div>
    </div>
{% endblock %}
{% block script %}{% endblock %}